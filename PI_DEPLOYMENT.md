# üê±üë®‚Äçüç≥ –ö—ñ—Ç –ö—É—Ö–∞—Ä - Raspberry Pi 5 Deployment Guide

## üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

### –û–±–ª–∞–¥–Ω–∞–Ω–Ω—è:
- **Raspberry Pi 5 8GB** ‚úÖ (—É –≤–∞—Å —î)
- microSD –∫–∞—Ä—Ç–∞ 32GB+ –∞–±–æ SSD (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
- –°—Ç–∞–±—ñ–ª—å–Ω–µ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑'—î–¥–Ω–∞–Ω–Ω—è
- –ê–∫—Ç–∏–≤–Ω–µ –æ—Ö–æ–ª–æ–¥–∂–µ–Ω–Ω—è (–∫—É–ª–µ—Ä)

### –ü—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è:
- **Raspberry Pi OS 64-bit** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
- Git
- Docker & Docker Compose

## üöÄ –®–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫

### 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ Pi 5

```bash
# –û–Ω–æ–≤–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É
sudo apt update && sudo apt upgrade -y

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Git
sudo apt install -y git

# –ö–ª–æ–Ω—É–≤–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç
git clone <your-repo-url> kitkuhar
cd kitkuhar

# –ó—Ä–æ–±–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º
chmod +x deploy-pi.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç
./deploy-pi.sh
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

–°–∫—Ä–∏–ø—Ç `deploy-pi.sh` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker —Ç–∞ Docker Compose
- ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏
- ‚úÖ –ü–æ–±—É–¥—É—î —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏
- ‚úÖ –ù–∞–ª–∞—à—Ç—É—î –±–∞–∑—É –¥–∞–Ω–∏—Ö PostgreSQL
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å Nginx reverse proxy

### 3. –î–æ—Å—Ç—É–ø –¥–æ —Å–∞–π—Ç—É

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É:
- üåê **–û—Å–Ω–æ–≤–Ω–∏–π —Å–∞–π—Ç:** http://your-pi-ip-address
- üìö **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:** http://your-pi-ip-address/docs
- ‚ù§Ô∏è **Health check:** http://your-pi-ip-address/health

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Internet      ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Nginx Proxy    ‚îÇ
‚îÇ   (Port 80)     ‚îÇ    ‚îÇ  (Port 80)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ            ‚îÇ            ‚îÇ
                    ‚ñº            ‚ñº            ‚ñº
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚îÇ  Frontend   ‚îÇ ‚îÇ  Backend    ‚îÇ ‚îÇ PostgreSQL  ‚îÇ
            ‚îÇ  (React)    ‚îÇ ‚îÇ  (FastAPI)  ‚îÇ ‚îÇ Database    ‚îÇ
            ‚îÇ  Port 3000  ‚îÇ ‚îÇ  Port 8001  ‚îÇ ‚îÇ  Port 5432  ‚îÇ
            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìä –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ Pi 5

### –û—á—ñ–∫—É–≤–∞–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è:
- **CPU:** 15-25% –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
- **RAM:** ~1-1.5GB –∑ 8GB –¥–æ—Å—Ç—É–ø–Ω–∏—Ö
- **–î–∏—Å–∫:** ~2GB –¥–ª—è –æ–±—Ä–∞–∑—ñ–≤ Docker
- **–ú–µ—Ä–µ–∂–∞:** –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

### –ó–∞–ª–∏—à–∞—î—Ç—å—Å—è –¥–ª—è —ñ–Ω—à–∏—Ö –∑–∞–≤–¥–∞–Ω—å:
- **CPU:** 75%+ –≤—ñ–ª—å–Ω–æ –¥–ª—è YouTube 4K, –±—Ä–∞—É–∑–∏–Ω–≥–∞
- **RAM:** 6.5GB+ –¥–ª—è —ñ–Ω—à–∏—Ö –ø—Ä–æ–≥—Ä–∞–º
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:** 45-55¬∞C –∑ –∫—É–ª–µ—Ä–æ–º

## üîß –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å–∞–º–∏

### –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:

```bash
# –ü–µ—Ä–µ–≥–ª—è–¥ —Å—Ç–∞—Ç—É—Å—É –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose ps

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
docker-compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose restart

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É
docker-compose restart backend

# –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É —Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
git pull
docker-compose build
docker-compose up -d

# –ó—É–ø–∏–Ω–∫–∞ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose down

# –ü–æ–≤–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è (–≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö!)
docker-compose down -v --rmi all
```

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:

```bash
# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
docker stats

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø—Ä–æ—Ü–µ—Å–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
docker-compose top

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–¥–æ—Ä–æ–≤'—è —Å–µ—Ä–≤—ñ—Å—ñ–≤
curl http://localhost/health
```

## üåê –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –¥–æ—Å—Ç—É–ø—É

### 1. –ó–Ω–∞–π—Ç–∏ IP –∞–¥—Ä–µ—Å—É Pi:
```bash
hostname -I
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ä–æ—É—Ç–µ—Ä:
- –ü—Ä–æ–∫–∏–Ω—É—Ç–∏ –ø–æ—Ä—Ç 80 –Ω–∞ Pi
- –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω—É IP –¥–ª—è Pi
- (–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π DNS

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –¥–æ–º–µ–Ω:
```bash
# –î–æ–¥–∞—Ç–∏ –¥–æ /etc/hosts –Ω–∞ —ñ–Ω—à–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö
192.168.1.100 kitkuhar.local
```

## üîí –ë–µ–∑–ø–µ–∫–∞

### –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –∑–∞—Ö–æ–¥–∏:
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –ø—Ä–∞—Ü—é—é—Ç—å –≤—ñ–¥ non-root –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ Rate limiting –¥–ª—è API –∑–∞–ø–∏—Ç—ñ–≤  
- ‚úÖ Security headers –≤ Nginx
- ‚úÖ –Ü–∑–æ–ª—å–æ–≤–∞–Ω—ñ Docker –º–µ—Ä–µ–∂—ñ
- ‚úÖ Health checks –¥–ª—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:
- –ó–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–æ–ª—ñ –≤ `.env` —Ñ–∞–π–ª—ñ
- –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ (Let's Encrypt)
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É
- –ó—Ä–æ–±–∏—Ç–∏ backup –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

## üîÑ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ

```bash
# –î–æ–¥–∞—Ç–∏ –¥–æ crontab
crontab -e

# –î–æ–¥–∞—Ç–∏ —Ä—è–¥–æ–∫:
@reboot cd /path/to/kitkuhar && docker-compose up -d
```

## üìà –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è Pi 5

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —É —Ñ–∞–π–ª–∞—Ö:
- **Backend:** 2 worker –ø—Ä–æ—Ü–µ—Å–∏ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è 4 —è–¥–µ—Ä)
- **Nginx:** Gzip –∫–æ–º–ø—Ä–µ—Å—ñ—è —Ç–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è
- **PostgreSQL:** –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è ARM64
- **Frontend:** –°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏ –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:
```bash
# –ó–±—ñ–ª—å—à–∏—Ç–∏ swap (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
sudo dphys-swapfile swapoff
sudo nano /etc/dphys-swapfile  # CONF_SWAPSIZE=2048
sudo dphys-swapfile setup
sudo dphys-swapfile swapon

# –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è GPU memory split
sudo raspi-config  # Advanced Options -> Memory Split -> 16
```

## üÜò –£—Å—É–Ω–µ–Ω–Ω—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä–≤—ñ—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏
docker-compose logs service_name

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker inspect container_name
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Å—Ç–∞—á–∞ –ø–∞–º'—è—Ç—ñ
```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ
free -h
docker system df

# –û—á–∏—Å—Ç–∏—Ç–∏ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –æ–±—Ä–∞–∑–∏
docker system prune -a
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–≤—ñ–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É CPU
vcgencmd measure_temp

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
htop
```

## üìä –ë–µ–Ω—á–º–∞—Ä–∫–∏ Pi 5 8GB

### –¢–µ—Å—Ç –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:
- **–û–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:** 20-50
- **–ó–∞–ø–∏—Ç–∏/—Å–µ–∫—É–Ω–¥–∞:** 100-200  
- **–ß–∞—Å –≤—ñ–¥–≥—É–∫—É:** < 200ms
- **–°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å:** 24/7 –±–µ–∑ –ø—Ä–æ–±–ª–µ–º

### –ü–∞—Ä–∞–ª–µ–ª—å–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è:
- ‚úÖ YouTube 4K + —Å–∞–π—Ç
- ‚úÖ –ë—Ä–∞—É–∑–∏–Ω–≥ + —Ä–æ–∑—Ä–æ–±–∫–∞
- ‚úÖ VS Code + Docker
- ‚úÖ Musik + —Ñ–æ–Ω–æ–≤—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —É –≤–∞—Å –±—É–¥–µ:
- üåê –ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Å–∞–π—Ç "–ö—ñ—Ç –ö—É—Ö–∞—Ä"
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ backup —Ç–∞ health checks
- üìà –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- üîí –ë–µ–∑–ø–µ—á–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- üöÄ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è Pi 5

**–í–∞—à Pi 5 8GB –ª–µ–≥–∫–æ –≤–∏—Ç—Ä–∏–º–∞—î —ñ —Å–∞–π—Ç, —ñ YouTube 4K –æ–¥–Ω–æ—á–∞—Å–Ω–æ!** üéâ