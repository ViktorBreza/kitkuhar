"use strict";(()=>{var a={};a.id=361,a.ids=[361],a.modules={361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1428:a=>{a.exports=import("axios")},1432:(a,b,c)=>{c.d(b,{A:()=>g});var d=c(8732),e=c(2015),f=c(3758);let g=({recipeId:a,showLabel:b=!0,size:c="md",readonly:g=!1})=>{let[h,i]=(0,e.useState)(null),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)(null),[n,o]=(0,e.useState)(!0),{token:p}=(0,f.A)(),q={sm:"fs-6",md:"fs-4",lg:"fs-2"}[c];(0,e.useEffect)(()=>{(async()=>{try{m({average_rating:null,total_ratings:0,total_comments:0}),i(null)}catch(a){console.error("Error fetching rating data:",a)}finally{o(!1)}})()},[a,p]);let r=async a=>{if(!g)try{i(a),console.log("Rating submitted:",a)}catch(a){console.error("Error submitting rating:",a)}};return n?(0,d.jsxs)("div",{className:"d-flex align-items-center",children:[(0,d.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:(0,d.jsx)("span",{className:"visually-hidden",children:"Завантаження рейтингу..."})}),b&&(0,d.jsx)("span",{className:"text-muted",children:"Завантаження..."})]}):(0,d.jsxs)("div",{className:"d-flex align-items-center",children:[(0,d.jsx)("div",{className:"me-2",children:(()=>{let a=[],b=j||h||l?.average_rating||0;for(let c=1;c<=5;c++){let e=c<=b,f=!g&&!n;a.push((0,d.jsx)("button",{type:"button",className:`btn p-0 border-0 bg-transparent ${q}`,style:{color:e?"#ffc107":"#e4e5e9",cursor:f?"pointer":"default"},onClick:()=>f&&r(c),onMouseEnter:()=>f&&k(c),onMouseLeave:()=>f&&k(null),disabled:!f,"aria-label":`Rate ${c} stars`,children:"⭐"},c))}return a})()}),b&&l&&(0,d.jsx)("small",{className:"text-muted",children:l.average_rating?`${l.average_rating.toFixed(1)} (${l.total_ratings})`:"Поки без оцінок"})]})}},2015:a=>{a.exports=require("react")},2326:a=>{a.exports=require("react-dom")},3858:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>o});var e=c(8732),f=c(2015),g=c(4233),h=c(9918),i=c.n(h),j=c(1428),k=c(3758),l=c(2969),m=c(1432),n=a([j]);j=(n.then?(await n)():n)[0];let o=({recipeId:a})=>{let[b,c]=(0,f.useState)(null),[d,h]=(0,f.useState)(!0),[n,o]=(0,f.useState)(null),{isAuthenticated:p,isAdmin:q}=(0,k.A)();if((0,g.useRouter)(),(0,f.useEffect)(()=>{let b=async()=>{try{let b=await j.default.get(`${l.S.RECIPES}/${a}`);c(b.data)}catch(a){o("Не вдалося завантажити рецепт"),console.error(a)}finally{h(!1)}};a&&b()},[a]),d)return(0,e.jsx)("div",{className:"text-center",children:(0,e.jsx)("div",{className:"spinner-border",role:"status",children:(0,e.jsx)("span",{className:"visually-hidden",children:"Завантаження..."})})});if(n||!b)return(0,e.jsx)("div",{className:"alert alert-danger",role:"alert",children:n||"Рецепт не знайдено"});let r="string"==typeof b.steps?b.steps.split("\n").filter(a=>a.trim()):b.steps;return(0,e.jsxs)("div",{className:"recipe-detail",children:[(0,e.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"mb-2",children:b.title}),(0,e.jsx)(m.A,{recipeId:b.id})]}),(p||q)&&(0,e.jsx)("div",{className:"btn-group",children:(0,e.jsx)(i(),{href:`/edit-recipe/${b.id}`,className:"btn btn-outline-secondary",children:"Редагувати"})})]}),b.description&&(0,e.jsx)("div",{className:"mb-4",children:(0,e.jsx)("p",{className:"lead",children:b.description})}),(0,e.jsxs)("div",{className:"row mb-4",children:[(0,e.jsxs)("div",{className:"col-md-6",children:[(0,e.jsx)("h3",{children:"Інгредієнти"}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Порцій:"})," ",b.servings]}),(0,e.jsx)("ul",{className:"list-unstyled",children:b.ingredients.map((a,b)=>(0,e.jsxs)("li",{className:"mb-2",children:[(0,e.jsx)("i",{className:"bi bi-check-circle-fill text-success me-2"}),a.quantity," ",a.unit," ",a.name]},b))})]}),(0,e.jsxs)("div",{className:"col-md-6",children:[b.category&&(0,e.jsxs)("div",{className:"mb-3",children:[(0,e.jsx)("strong",{children:"Категорія:"}),(0,e.jsx)("span",{className:"badge bg-primary ms-2",children:b.category.name})]}),b.tags&&b.tags.length>0&&(0,e.jsxs)("div",{className:"mb-3",children:[(0,e.jsx)("strong",{children:"Теги:"}),(0,e.jsx)("div",{className:"mt-2",children:b.tags.map(a=>(0,e.jsx)("span",{className:"badge bg-secondary me-1",children:a.name},a.id))})]})]})]}),(0,e.jsxs)("div",{className:"mb-4",children:[(0,e.jsx)("h3",{children:"Інструкції"}),(0,e.jsx)("ol",{className:"list-group list-group-numbered",children:Array.isArray(r)?r.map((a,b)=>(0,e.jsx)("li",{className:"list-group-item border-0 bg-transparent",children:"string"==typeof a?a:a.description},b)):(0,e.jsx)("li",{className:"list-group-item border-0 bg-transparent",children:r})})]}),(0,e.jsx)("div",{className:"mt-4",children:(0,e.jsx)(i(),{href:"/recipes",className:"btn btn-secondary",children:"← Назад до рецептів"})})]})};d()}catch(a){d(a)}})},3873:a=>{a.exports=require("path")},4075:a=>{a.exports=require("zlib")},6060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},7910:a=>{a.exports=require("stream")},8732:a=>{a.exports=require("react/jsx-runtime")},9021:a=>{a.exports=require("fs")},9147:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>q,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>o,getStaticProps:()=>n,handler:()=>y,reportWebVitals:()=>r,routeModule:()=>x,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>u,unstable_getStaticPaths:()=>t,unstable_getStaticProps:()=>s});var e=c(3885),f=c(237),g=c(1413),h=c(1379),i=c(4385),j=c(9858),k=c(2289),l=a([j]);j=(l.then?(await l)():l)[0];let m=(0,g.M)(j,"default"),n=(0,g.M)(j,"getStaticProps"),o=(0,g.M)(j,"getStaticPaths"),p=(0,g.M)(j,"getServerSideProps"),q=(0,g.M)(j,"config"),r=(0,g.M)(j,"reportWebVitals"),s=(0,g.M)(j,"unstable_getStaticProps"),t=(0,g.M)(j,"unstable_getStaticPaths"),u=(0,g.M)(j,"unstable_getStaticParams"),v=(0,g.M)(j,"unstable_getServerProps"),w=(0,g.M)(j,"unstable_getServerSideProps"),x=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/recipes/[id]",pathname:"/recipes/[id]",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:i.default,Document:h.default},userland:j}),y=(0,k.U)({srcPage:"/recipes/[id]",config:q,userland:j,routeModule:x,getStaticPaths:o,getStaticProps:n,getServerSideProps:p});d()}catch(a){d(a)}})},9858:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>k,getServerSideProps:()=>j});var e=c(8732);c(2015);var f=c(4233),g=c(9510),h=c(3858),i=a([h]);h=(i.then?(await i)():i)[0];let j=async a=>{let{id:b}=a.params;return{props:{id:b}}},k=({id:a})=>(0,f.useRouter)().isFallback?(0,e.jsx)(g.A,{children:(0,e.jsx)("div",{className:"text-center",children:(0,e.jsx)("div",{className:"spinner-border",role:"status",children:(0,e.jsx)("span",{className:"visually-hidden",children:"Завантаження..."})})})}):(0,e.jsx)(g.A,{title:`Рецепт - Кіт Кухар`,description:"Переглядайте детальну інформацію про рецепт",children:(0,e.jsx)(h.A,{recipeId:parseInt(a)})});d()}catch(a){d(a)}})}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[341,397,705,426],()=>b(b.s=9147));module.exports=c})();